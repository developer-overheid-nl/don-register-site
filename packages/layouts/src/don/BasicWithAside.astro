---
import {
  Article,
  Container,
} from "@developer-overheid-nl/don-register-components";
import Base from "./Base.astro";

const { appConfig, titlePage, asideLandmark } = Astro.props;
---

<Base titlePage={titlePage} appConfig={appConfig}>
  <slot name="head" slot="head" />
  <slot name="body-start" slot="body-start" />
  <Container>
    <div class="basic-content">
      <div class="header"><slot name="header" /></div>
      <Article className="main">
        <slot />
      </Article>
      <aside class="aside" aria-label={asideLandmark}>
        <slot name="aside" />
      </aside>
    </div>
  </Container>
  <slot name="body-end" slot="body-end" />
</Base>

<style>
  @media (--lg-and-above-viewport) {
    /* 12 columns */
    .detail-content {
      --first-column: 8fr;
      --second-column: 4fr;
    }
  }

  @media (--md-viewport) {
    /* 9 columns */
    .detail-content {
      --first-column: 6fr;
      --second-column: 3fr;
    }
  }

  @media (--sm-viewport) {
    /* 9 columns */
    .detail-content {
      --first-column: 5fr;
      --second-column: 4fr;
    }
  }

  .basic-content {
    display: grid;
    grid-template-columns: 
      [header-start main-start] var(--first-column, 9fr) [main-end
      aside-start] var(--second-column, 3fr) [header-end aside-end];
    grid-template-rows: 
      [header-start]auto[header-end 
      main-start aside-start]auto[main-end aside-end];
    gap: 1rem;
  }

  @media (--sm-and-below-viewport) {
    /* 1 column */
    .basic-content {
      grid-template-columns: 
        [header-start main-start aside-start] 1fr [main-end header-end aside-end];
    grid-template-rows: 
      [header-start] auto [header-end 
      main-start] auto [main-end 
      aside-start] auto [aside-end];
    }
  }

  .basic-content:has(.header:empty) {
    row-gap: 0;
  }

  .header {
    grid-area: header;
  }

  .main {
    grid-area: main;
  }

  .aside {
    grid-area: aside;
  }
</style>